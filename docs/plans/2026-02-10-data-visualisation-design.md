# 数据可视化课程网站 — 产品设计文档

> 日期：2026-02-10  
> 状态：已确认，准备进入编码阶段

---

## 1. 项目目标

为"数据可视化"课程搭建一个教学网站，包含两大核心功能：
1. **图表库（教学内容）**：展示常见图表的介绍、适用场景、数据格式要求与示例
2. **图表生成器（练习区）**：学生输入数据集、选择图表类型，网站自动生成对应图表

---

## 2. 设计风格

**教学简洁风（A）**
- 白底 + 深灰文字 + 主色蓝 `#2563EB`
- 标题清晰、段落短、列表多
- 页面主体宽度限制（~960px），左右留白
- 卡片 + 分区标题组织内容
- 适合课堂投屏与学生自学阅读

---

## 3. 页面结构（MVP 3 页）

### 3.1 首页 `/`
- 一句话介绍：这是数据可视化课程网站
- 两个入口按钮：`去图表库` / `去生成器`
- "本课程你会学到什么"（3-5 条）

### 3.2 图表库 `/charts`
- 左侧筛选（按用途分类：对比/趋势/占比/分布/关系/层级/流向）
- 右侧图表卡片列表（图表名 + 一句话用途 + 小示意图）
- 点击进入详情页

### 3.3 图表详情 `/charts/:id`
每个图表固定 4 个区块：
1. **是什么**（一句话）
2. **什么时候用 / 不该用**（各 3 条）
3. **数据格式要求**（需要哪些列 + 示例表格）
4. **示例与用法**（示例数据 + "带入生成器"按钮）

### 3.4 生成器 `/generator`
- 左侧面板（输入与配置）：
  1. 输入数据：上传 CSV / 粘贴表格（Tab 或逗号分隔）
  2. 表格预览（前 10 行）
  3. 选择图表类型（下拉）
  4. 字段映射（根据图表类型动态显示）
  5. "生成图表"按钮
- 右侧面板：图表预览 + 导出 PNG（可选）

---

## 4. 图表清单（21 种）

### 图表库（教学内容）— 第一版全部覆盖
1. 折线图
2. 平行坐标图
3. 力导图
4. 条形图
5. 直方图
6. 堆叠柱状图
7. 气泡图
8. 雷达图
9. 热力图
10. 树图
11. 桑基图
12. 旭日图
13. 弦图
14. 饼图
15. 散点图
16. 六边形分箱图
17. 箱线图
18. 漏斗图
19. 面积图
20. 堆叠面积图
21. 南丁格尔玫瑰花图

### 生成器（MVP 第一期）— 8 种
| 图表 | 必须字段 | 可选字段 |
|------|---------|---------|
| 条形图 | 分类列(X) + 数值列(Y) | — |
| 堆叠柱状图 | 分类列(X) + 分组列(系列) + 数值列(Y) | — |
| 折线图 | X列 + Y列 | 多条线(多Y列) |
| 散点图 | X数值列 + Y数值列 | 分类列(颜色区分) |
| 饼图 | 分类列 + 数值列 | — |
| 直方图 | 一个数值列 | 分箱数量 |
| 箱线图 | 一个数值列 | 分组列 |
| 热力图 | X类别列 + Y类别列 + 数值列 | — |

### 生成器（第二期）— 剩余 13 种
折线图以外的趋势图、关系图、层级图等，待第一期完成后再做。

---

## 5. 数据输入规则

### CSV 上传
- 支持 `.csv` 文件
- 默认逗号分隔，第一行为列名
- 无列名时自动生成 `col1, col2, col3...`

### 粘贴表格
- 优先按 Tab(`\t`) 分隔（Excel 复制）
- 如果没有 Tab，按逗号分隔
- 第一行为列名

### 自动识别数值列
- 预扫描每列，80% 以上能转数字 → 标记为"数值列"
- 下拉框中数值列优先展示

### 错误提示
- 列数不一致 → "某些行的列数和表头不一致"
- Y 列不是数字 → "Y 列需要是数字列"
- 数据为空 → "请先上传或粘贴数据"

---

## 6. 技术方案

| 项目 | 选型 |
|------|------|
| 框架 | React + Vite |
| 图表库 | ECharts（echarts-for-react） |
| CSV 解析 | papaparse |
| 粘贴解析 | 自写函数（Tab/逗号识别） |
| 路由 | react-router-dom |
| 样式 | TailwindCSS |
| 后端 | 无（纯前端） |
| 部署 | 静态站点（可离线使用） |

---

## 7. 开发分期

### 第一期（MVP）
- [x] 产品规格确认
- [ ] 初始化项目骨架
- [ ] 首页
- [ ] 图表库（21 种图表列表 + 详情页结构）
- [ ] 生成器（8 种图表 + CSV/粘贴输入）

### 第二期
- [ ] 生成器扩展到 21 种图表
- [ ] 导出 PNG
- [ ] 更多数据格式支持（Excel 等）
