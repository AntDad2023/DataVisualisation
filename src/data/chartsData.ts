// 图表分类标签
export type ChartCategory = '对比' | '趋势' | '占比' | '分布' | '关系' | '层级' | '流向'

// 图表元数据类型
export interface ChartMeta {
  id: string           // URL 路径用的英文 ID
  name: string         // 中文名称
  description: string  // 一句话描述
  categories: ChartCategory[]  // 所属分类（可多个）
  // 教学内容（详情页用）
  whatIs: string                // 是什么
  whenToUse: string[]           // 什么时候用
  whenNotToUse: string[]        // 什么时候不该用
  dataRequirements: string      // 数据格式要求
  exampleData: {                // 示例数据
    columns: string[]
    rows: (string | number)[][]
  }
  // 生成器相关（如果在 MVP 8 种里）
  generatorSupported: boolean
}

// 所有分类列表（用于筛选按钮）
export const ALL_CATEGORIES: ChartCategory[] = ['对比', '趋势', '占比', '分布', '关系', '层级', '流向']

// 21 种图表元数据
export const chartsData: ChartMeta[] = [
  // ===== 1. 条形图 =====
  {
    id: 'bar',
    name: '条形图',
    description: '用横向或纵向的矩形条来比较不同类别的数值大小',
    categories: ['对比'],
    whatIs: '条形图用矩形条的长度来表示数值大小，适合比较不同类别之间的数据差异。',
    whenToUse: [
      '比较不同类别的数值大小',
      '类别名称较长时（横向条形图更易读）',
      '数据量在 5~20 个类别之间',
    ],
    whenNotToUse: [
      '展示时间趋势（应该用折线图）',
      '展示部分与整体的关系（应该用饼图）',
      '类别太多（超过 20 个会很拥挤）',
    ],
    dataRequirements: '需要一个分类列（X 轴）和一个数值列（Y 轴）',
    exampleData: {
      columns: ['城市', '人口(万)'],
      rows: [
        ['北京', 2189],
        ['上海', 2487],
        ['广州', 1868],
        ['深圳', 1756],
        ['成都', 2094],
      ],
    },
    generatorSupported: true,
  },

  // ===== 2. 堆叠柱状图 =====
  {
    id: 'stacked-bar',
    name: '堆叠柱状图',
    description: '在柱状图基础上，将每个柱子按类别堆叠，展示各部分的组成',
    categories: ['对比', '占比'],
    whatIs: '堆叠柱状图将每个柱子分成多个部分堆叠在一起，既能看到总量，也能看到各部分的占比。',
    whenToUse: [
      '比较不同类别的总量和各部分组成',
      '展示各部分对总量的贡献',
      '数据有明确的分组维度',
    ],
    whenNotToUse: [
      '分组太多（超过 5 组颜色难以区分）',
      '需要精确比较各部分的绝对值',
      '各部分数值差异极大',
    ],
    dataRequirements: '需要一个分类列（X 轴）、一个分组列（系列）和一个数值列（Y 轴）',
    exampleData: {
      columns: ['季度', '产品', '销售额(万)'],
      rows: [
        ['Q1', '手机', 120],
        ['Q1', '电脑', 80],
        ['Q1', '平板', 45],
        ['Q2', '手机', 150],
        ['Q2', '电脑', 90],
        ['Q2', '平板', 55],
        ['Q3', '手机', 180],
        ['Q3', '电脑', 100],
        ['Q3', '平板', 60],
        ['Q4', '手机', 200],
        ['Q4', '电脑', 110],
        ['Q4', '平板', 70],
      ],
    },
    generatorSupported: true,
  },

  // ===== 3. 折线图 =====
  {
    id: 'line',
    name: '折线图',
    description: '用线段连接数据点，展示数据随时间或顺序的变化趋势',
    categories: ['趋势'],
    whatIs: '折线图通过连接各数据点形成线段，直观展示数据的变化趋势和走向。',
    whenToUse: [
      '展示数据随时间的变化趋势',
      '比较多组数据的趋势差异',
      'X 轴是连续的（时间、序号等）',
    ],
    whenNotToUse: [
      '比较不同类别的大小（应该用条形图）',
      '数据点之间没有顺序关系',
      '数据点太少（少于 3 个看不出趋势）',
    ],
    dataRequirements: '需要一个 X 列（通常是时间）和一个或多个 Y 列（数值）',
    exampleData: {
      columns: ['月份', '销售额(万)'],
      rows: [
        ['1月', 65],
        ['2月', 59],
        ['3月', 80],
        ['4月', 81],
        ['5月', 56],
        ['6月', 55],
        ['7月', 72],
        ['8月', 90],
        ['9月', 85],
        ['10月', 78],
        ['11月', 92],
        ['12月', 110],
      ],
    },
    generatorSupported: true,
  },

  // ===== 4. 散点图 =====
  {
    id: 'scatter',
    name: '散点图',
    description: '用点的位置表示两个变量之间的关系，发现数据的分布和相关性',
    categories: ['关系', '分布'],
    whatIs: '散点图将每条数据用一个点表示在二维坐标系中，X 和 Y 分别对应两个数值变量，用于发现变量间的关系。',
    whenToUse: [
      '探索两个数值变量之间的关系',
      '发现数据的聚类或异常值',
      '数据量较大（几十到几千个点）',
    ],
    whenNotToUse: [
      '只有一个变量（应该用直方图）',
      '变量是分类型的（应该用条形图）',
      '数据点太少（少于 10 个看不出规律）',
    ],
    dataRequirements: '需要两个数值列（X 和 Y），可选一个分类列用于颜色区分',
    exampleData: {
      columns: ['身高(cm)', '体重(kg)'],
      rows: [
        [165, 55],
        [170, 62],
        [175, 70],
        [160, 50],
        [180, 78],
        [168, 58],
        [172, 65],
        [178, 75],
        [163, 52],
        [185, 85],
      ],
    },
    generatorSupported: true,
  },

  // ===== 5. 饼图 =====
  {
    id: 'pie',
    name: '饼图',
    description: '用圆形的扇区展示各部分占整体的比例',
    categories: ['占比'],
    whatIs: '饼图将一个圆分成若干扇区，每个扇区的面积代表该部分占整体的比例。',
    whenToUse: [
      '展示各部分占总体的百分比',
      '类别数量较少（3~7 个最佳）',
      '强调某一部分的占比',
    ],
    whenNotToUse: [
      '类别太多（超过 7 个难以区分）',
      '需要精确比较各部分的差异',
      '各部分比例非常接近',
    ],
    dataRequirements: '需要一个分类列和一个数值列',
    exampleData: {
      columns: ['浏览器', '市场份额(%)'],
      rows: [
        ['Chrome', 65],
        ['Safari', 18],
        ['Firefox', 8],
        ['Edge', 5],
        ['其他', 4],
      ],
    },
    generatorSupported: true,
  },

  // ===== 6. 直方图 =====
  {
    id: 'histogram',
    name: '直方图',
    description: '将连续数据分成若干区间，用矩形高度展示每个区间的频率分布',
    categories: ['分布'],
    whatIs: '直方图将一组连续数值数据分成若干等宽区间（分箱），用矩形的高度表示落在每个区间内的数据个数。',
    whenToUse: [
      '查看一组数值数据的分布形态',
      '判断数据是否符合正态分布',
      '发现数据的集中趋势和离散程度',
    ],
    whenNotToUse: [
      '数据是分类型的（应该用条形图）',
      '数据量太少（少于 20 个不够分箱）',
      '需要展示时间趋势',
    ],
    dataRequirements: '需要一个数值列，可选指定分箱数量',
    exampleData: {
      columns: ['考试成绩'],
      rows: [
        [72], [85], [90], [68], [76], [88], [92], [79], [83], [95],
        [70], [87], [91], [74], [82], [86], [93], [77], [81], [89],
      ],
    },
    generatorSupported: true,
  },

  // ===== 7. 箱线图 =====
  {
    id: 'boxplot',
    name: '箱线图',
    description: '用"箱子"和"须"展示数据的中位数、四分位数和异常值',
    categories: ['分布'],
    whatIs: '箱线图用一个矩形箱子表示数据的四分位范围（Q1~Q3），中间线为中位数，须线延伸到最大最小值，超出范围的点为异常值。',
    whenToUse: [
      '比较多组数据的分布差异',
      '快速了解数据的中位数、离散程度和异常值',
      '数据量较大时概括分布特征',
    ],
    whenNotToUse: [
      '数据量太少（少于 5 个无法计算四分位数）',
      '需要看到每个数据点的具体值',
      '数据是分类型的',
    ],
    dataRequirements: '需要一个数值列，可选一个分组列',
    exampleData: {
      columns: ['班级', '成绩'],
      rows: [
        ['A班', 85], ['A班', 90], ['A班', 78], ['A班', 92], ['A班', 88],
        ['A班', 76], ['A班', 95], ['A班', 82], ['A班', 87], ['A班', 91],
        ['B班', 72], ['B班', 80], ['B班', 68], ['B班', 85], ['B班', 75],
        ['B班', 70], ['B班', 88], ['B班', 65], ['B班', 78], ['B班', 82],
      ],
    },
    generatorSupported: true,
  },

  // ===== 8. 热力图 =====
  {
    id: 'heatmap',
    name: '热力图',
    description: '用颜色深浅表示二维矩阵中每个单元格的数值大小',
    categories: ['关系', '分布'],
    whatIs: '热力图用颜色的深浅来表示数值的大小，将数据展示在一个二维矩阵中，颜色越深代表数值越大。',
    whenToUse: [
      '展示两个分类维度交叉后的数值分布',
      '发现数据矩阵中的热点和冷点',
      '展示相关性矩阵',
    ],
    whenNotToUse: [
      '类别太多导致格子太小看不清',
      '需要精确读取数值',
      '数据不是矩阵形式',
    ],
    dataRequirements: '需要一个 X 类别列、一个 Y 类别列和一个数值列',
    exampleData: {
      columns: ['星期', '时段', '客流量'],
      rows: [
        ['周一', '上午', 120], ['周一', '下午', 200], ['周一', '晚上', 150],
        ['周二', '上午', 130], ['周二', '下午', 210], ['周二', '晚上', 160],
        ['周三', '上午', 140], ['周三', '下午', 230], ['周三', '晚上', 170],
        ['周四', '上午', 125], ['周四', '下午', 220], ['周四', '晚上', 155],
        ['周五', '上午', 150], ['周五', '下午', 280], ['周五', '晚上', 250],
        ['周六', '上午', 200], ['周六', '下午', 350], ['周六', '晚上', 300],
        ['周日', '上午', 180], ['周日', '下午', 320], ['周日', '晚上', 270],
      ],
    },
    generatorSupported: true,
  },

  // ===== 9. 面积图 =====
  {
    id: 'area',
    name: '面积图',
    description: '在折线图基础上填充线下方区域，强调数量的累积变化',
    categories: ['趋势'],
    whatIs: '面积图是折线图的变体，将折线下方的区域填充颜色，更直观地展示数据量的大小和变化趋势。',
    whenToUse: [
      '强调数据量随时间的累积变化',
      '展示总量的变化趋势',
      '比较两组数据的面积差异',
    ],
    whenNotToUse: [
      '多组数据重叠严重看不清',
      '不需要强调面积/量感',
      '数据波动太大导致面积混乱',
    ],
    dataRequirements: '需要一个 X 列（时间）和一个 Y 列（数值）',
    exampleData: {
      columns: ['年份', '收入(万)'],
      rows: [
        ['2019', 50], ['2020', 65], ['2021', 80], ['2022', 95], ['2023', 120],
      ],
    },
    generatorSupported: false,
  },

  // ===== 10. 堆叠面积图 =====
  {
    id: 'stacked-area',
    name: '堆叠面积图',
    description: '多组面积图堆叠在一起，展示各部分随时间的变化和总量趋势',
    categories: ['趋势', '占比'],
    whatIs: '堆叠面积图将多组数据的面积图叠加在一起，既能看到总量的变化趋势，也能看到各部分的贡献。',
    whenToUse: [
      '展示多个部分随时间的变化和总量',
      '强调各部分对总量的贡献变化',
      '数据分组不超过 5 组',
    ],
    whenNotToUse: [
      '分组太多导致颜色混乱',
      '需要精确比较各部分的绝对值',
      '各部分变化趋势差异不大',
    ],
    dataRequirements: '需要一个 X 列（时间）、一个分组列和一个 Y 列（数值）',
    exampleData: {
      columns: ['月份', '渠道', '访问量'],
      rows: [
        ['1月', '搜索', 400], ['1月', '直接', 200], ['1月', '社交', 100],
        ['2月', '搜索', 450], ['2月', '直接', 220], ['2月', '社交', 130],
        ['3月', '搜索', 500], ['3月', '直接', 250], ['3月', '社交', 160],
      ],
    },
    generatorSupported: false,
  },

  // ===== 11. 饼图变体：南丁格尔玫瑰花图 =====
  {
    id: 'nightingale-rose',
    name: '南丁格尔玫瑰花图',
    description: '用扇区的半径（而非角度）来表示数值大小的饼图变体',
    categories: ['占比', '对比'],
    whatIs: '南丁格尔玫瑰花图是饼图的变体，每个扇区角度相同，但半径不同，半径越大代表数值越大，视觉效果更突出差异。',
    whenToUse: [
      '各部分数值差异较大，需要放大差异',
      '想要比饼图更有视觉冲击力',
      '类别数量适中（4~8 个）',
    ],
    whenNotToUse: [
      '需要精确表示比例关系',
      '类别太多或太少',
      '数值差异很小',
    ],
    dataRequirements: '需要一个分类列和一个数值列',
    exampleData: {
      columns: ['季节', '降雨量(mm)'],
      rows: [
        ['春', 120], ['夏', 280], ['秋', 90], ['冬', 45],
      ],
    },
    generatorSupported: false,
  },

  // ===== 12. 雷达图 =====
  {
    id: 'radar',
    name: '雷达图',
    description: '用多个轴从中心向外辐射，展示一个对象在多个维度上的表现',
    categories: ['对比'],
    whatIs: '雷达图从中心点向外辐射出多个轴，每个轴代表一个维度，数据点连成多边形，直观展示多维度的综合表现。',
    whenToUse: [
      '比较一个或多个对象在多个维度上的表现',
      '展示能力模型、评分体系',
      '维度数量在 3~8 个之间',
    ],
    whenNotToUse: [
      '维度太多（超过 8 个会很乱）',
      '各维度的量纲差异很大',
      '需要精确比较数值',
    ],
    dataRequirements: '需要多个数值列（每列代表一个维度）',
    exampleData: {
      columns: ['能力', '得分'],
      rows: [
        ['攻击', 85], ['防御', 70], ['速度', 90], ['技巧', 75], ['体力', 80],
      ],
    },
    generatorSupported: false,
  },

  // ===== 13. 气泡图 =====
  {
    id: 'bubble',
    name: '气泡图',
    description: '在散点图基础上，用气泡大小表示第三个维度的数值',
    categories: ['关系'],
    whatIs: '气泡图是散点图的扩展，除了 X 和 Y 坐标外，还用气泡的大小来表示第三个数值变量。',
    whenToUse: [
      '同时展示三个数值变量的关系',
      '发现多维度数据中的模式',
      '数据量适中（10~50 个点）',
    ],
    whenNotToUse: [
      '气泡重叠严重',
      '第三个维度不重要',
      '数据点太多导致混乱',
    ],
    dataRequirements: '需要三个数值列（X、Y、气泡大小）',
    exampleData: {
      columns: ['GDP(万亿)', '人口(亿)', '面积(万km²)'],
      rows: [
        [17.7, 14.1, 960],
        [25.5, 3.3, 937],
        [5.1, 1.3, 33],
        [4.2, 0.8, 36],
        [3.1, 0.7, 38],
      ],
    },
    generatorSupported: false,
  },

  // ===== 14. 漏斗图 =====
  {
    id: 'funnel',
    name: '漏斗图',
    description: '用逐渐缩小的梯形展示流程中各阶段的转化率',
    categories: ['流向'],
    whatIs: '漏斗图用从上到下逐渐缩小的梯形来表示流程中各阶段的数量变化，直观展示每一步的转化和流失。',
    whenToUse: [
      '展示销售漏斗、用户转化流程',
      '分析各阶段的转化率和流失率',
      '流程有明确的先后顺序',
    ],
    whenNotToUse: [
      '流程不是线性的',
      '各阶段没有递减关系',
      '需要展示时间趋势',
    ],
    dataRequirements: '需要一个阶段名称列和一个数值列',
    exampleData: {
      columns: ['阶段', '人数'],
      rows: [
        ['浏览', 10000], ['加购', 3000], ['下单', 1500], ['付款', 1200], ['完成', 1000],
      ],
    },
    generatorSupported: false,
  },

  // ===== 15. 树图 =====
  {
    id: 'treemap',
    name: '树图',
    description: '用嵌套的矩形展示层级数据中各部分的大小关系',
    categories: ['层级', '占比'],
    whatIs: '树图用矩形的面积来表示数值大小，矩形可以嵌套表示层级关系，适合展示层级结构中各部分的占比。',
    whenToUse: [
      '展示层级数据的大小关系',
      '空间有限但数据量大',
      '需要同时展示层级和占比',
    ],
    whenNotToUse: [
      '层级太深（超过 3 层难以阅读）',
      '需要展示精确数值',
      '数据没有层级结构',
    ],
    dataRequirements: '需要层级分类列和数值列',
    exampleData: {
      columns: ['大类', '小类', '金额(万)'],
      rows: [
        ['食品', '水果', 30], ['食品', '蔬菜', 25], ['食品', '肉类', 45],
        ['日用', '洗护', 20], ['日用', '清洁', 15],
        ['电子', '手机', 80], ['电子', '电脑', 60],
      ],
    },
    generatorSupported: false,
  },

  // ===== 16. 桑基图 =====
  {
    id: 'sankey',
    name: '桑基图',
    description: '用流动的带状线条展示数据从一个节点流向另一个节点的过程',
    categories: ['流向'],
    whatIs: '桑基图用带状线条的宽度来表示流量大小，展示数据在不同节点之间的流动和分配关系。',
    whenToUse: [
      '展示能量、资金、用户等的流向',
      '分析数据在各环节的分配',
      '展示多对多的流动关系',
    ],
    whenNotToUse: [
      '流向关系太复杂导致线条交叉混乱',
      '只有简单的线性流程（用漏斗图更好）',
      '数据没有流动关系',
    ],
    dataRequirements: '需要来源列、目标列和流量数值列',
    exampleData: {
      columns: ['来源', '目标', '流量'],
      rows: [
        ['搜索引擎', '首页', 500], ['社交媒体', '首页', 300], ['直接访问', '首页', 200],
        ['首页', '产品页', 600], ['首页', '博客', 200], ['首页', '关于', 100],
      ],
    },
    generatorSupported: false,
  },

  // ===== 17. 旭日图 =====
  {
    id: 'sunburst',
    name: '旭日图',
    description: '用同心圆环展示多层级数据的占比关系',
    categories: ['层级', '占比'],
    whatIs: '旭日图是饼图的多层级版本，从内到外的圆环代表从高到低的层级，每个扇区的角度代表占比。',
    whenToUse: [
      '展示多层级数据的占比',
      '需要从整体到局部逐层钻取',
      '层级不超过 3~4 层',
    ],
    whenNotToUse: [
      '层级太深导致外圈太窄',
      '各层级的类别太多',
      '数据没有层级结构',
    ],
    dataRequirements: '需要多级分类列和数值列',
    exampleData: {
      columns: ['大洲', '国家', '人口(亿)'],
      rows: [
        ['亚洲', '中国', 14.1], ['亚洲', '印度', 13.8], ['亚洲', '日本', 1.3],
        ['欧洲', '德国', 0.8], ['欧洲', '法国', 0.7],
        ['美洲', '美国', 3.3], ['美洲', '巴西', 2.1],
      ],
    },
    generatorSupported: false,
  },

  // ===== 18. 平行坐标图 =====
  {
    id: 'parallel',
    name: '平行坐标图',
    description: '用多条平行的纵轴展示多维数据，每条线代表一条数据记录',
    categories: ['关系', '对比'],
    whatIs: '平行坐标图将多个维度排列成平行的纵轴，每条数据记录用一条折线穿过所有轴，适合发现多维数据中的模式。',
    whenToUse: [
      '探索多维数据之间的关系',
      '发现数据的聚类和异常',
      '维度数量在 4~10 个之间',
    ],
    whenNotToUse: [
      '数据量太大导致线条重叠',
      '维度太少（少于 3 个用散点图更好）',
      '需要精确读取数值',
    ],
    dataRequirements: '需要多个数值列（每列代表一个维度）',
    exampleData: {
      columns: ['价格(万)', '面积(m²)', '楼层', '评分'],
      rows: [
        [150, 90, 12, 4.5],
        [200, 120, 8, 4.2],
        [100, 60, 3, 3.8],
        [300, 150, 20, 4.8],
        [180, 100, 15, 4.0],
      ],
    },
    generatorSupported: false,
  },

  // ===== 19. 力导图 =====
  {
    id: 'force-graph',
    name: '力导图',
    description: '用节点和连线展示网络中元素之间的关系',
    categories: ['关系'],
    whatIs: '力导图用物理模拟的方式将节点和连线布局在画布上，关系紧密的节点会靠得更近，适合展示网络关系。',
    whenToUse: [
      '展示社交网络、知识图谱等关系',
      '发现网络中的核心节点和社区',
      '节点数量在 10~100 个之间',
    ],
    whenNotToUse: [
      '节点太多导致布局混乱',
      '关系是有方向的流动（用桑基图更好）',
      '需要精确的位置信息',
    ],
    dataRequirements: '需要节点列表和连线列表（来源-目标）',
    exampleData: {
      columns: ['人物A', '人物B', '关系强度'],
      rows: [
        ['张三', '李四', 5], ['张三', '王五', 3], ['李四', '王五', 4],
        ['张三', '赵六', 2], ['王五', '赵六', 1],
      ],
    },
    generatorSupported: false,
  },

  // ===== 20. 弦图 =====
  {
    id: 'chord',
    name: '弦图',
    description: '用圆形布局和弧线展示多个元素之间的相互关系和流量',
    categories: ['关系', '流向'],
    whatIs: '弦图将元素排列在圆周上，用弧线连接有关系的元素，弧线的宽度代表关系的强度或流量。',
    whenToUse: [
      '展示多个元素之间的双向关系',
      '比较不同元素之间的流量大小',
      '元素数量在 3~10 个之间',
    ],
    whenNotToUse: [
      '元素太多导致弧线交叉混乱',
      '关系是单向的（用桑基图更好）',
      '需要展示层级结构',
    ],
    dataRequirements: '需要来源列、目标列和数值列',
    exampleData: {
      columns: ['城市A', '城市B', '航班数'],
      rows: [
        ['北京', '上海', 50], ['北京', '广州', 30], ['北京', '成都', 25],
        ['上海', '广州', 20], ['上海', '成都', 15], ['广州', '成都', 10],
      ],
    },
    generatorSupported: false,
  },

  // ===== 21. 六边形分箱图 =====
  {
    id: 'hexbin',
    name: '六边形分箱图',
    description: '用六边形网格对散点进行分箱，用颜色深浅表示每个区域的数据密度',
    categories: ['分布'],
    whatIs: '六边形分箱图是散点图的替代方案，当数据点太多时，用六边形网格将区域分箱，颜色深浅表示该区域的数据密度。',
    whenToUse: [
      '数据点太多导致散点图重叠严重',
      '需要展示数据的密度分布',
      '数据量在几千到几万个点',
    ],
    whenNotToUse: [
      '数据量较少（直接用散点图）',
      '需要看到每个数据点',
      '数据不是二维数值型',
    ],
    dataRequirements: '需要两个数值列（X 和 Y）',
    exampleData: {
      columns: ['经度', '纬度'],
      rows: [
        [116.4, 39.9], [121.5, 31.2], [113.3, 23.1], [114.1, 22.5], [104.1, 30.6],
        [116.3, 39.8], [121.4, 31.3], [113.2, 23.2], [114.0, 22.6], [104.0, 30.7],
      ],
    },
    generatorSupported: false,
  },
]
